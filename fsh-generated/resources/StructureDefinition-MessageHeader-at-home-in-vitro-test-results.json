{
  "resourceType": "StructureDefinition",
  "id": "MessageHeader-at-home-in-vitro-test-results",
  "url": "http://hl7.org/fhir/us/home-lab-report/StructureDefinition/MessageHeader-at-home-in-vitro-test-results",
  "version": "1.0.0",
  "name": "MessageHeaderAtHomeInVitroTestResults",
  "title": "MessageHeader - At-Home In-Vitro Test Results",
  "status": "active",
  "description": "This MessageHeader represents the At-Home In-Vitro Test Results being sent from an application server to a health authority.",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "hl7v2home",
      "name": "HL7 V2 At-Home Test Guide"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "MessageHeader",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/MessageHeader",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "MessageHeader",
        "path": "MessageHeader",
        "short": "Represents the At-Home In-Vitro Test Results being sent from an application server to a health authority."
      },
      {
        "id": "MessageHeader.event[x]",
        "path": "MessageHeader.event[x]",
        "short": "Result of most recent lab test for condition of interest",
        "type": [
          {
            "code": "Coding"
          }
        ],
        "patternCoding": {
          "code": "96552-5",
          "system": "http://loinc.org"
        },
        "mustSupport": true
      },
      {
        "id": "MessageHeader.destination",
        "path": "MessageHeader.destination",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.6.1, MSH.6.2, MSH.6.6"
          }
        ]
      },
      {
        "id": "MessageHeader.destination.id",
        "path": "MessageHeader.destination.id",
        "short": "Receiving system OID",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.5.2"
          }
        ]
      },
      {
        "id": "MessageHeader.destination.name",
        "path": "MessageHeader.destination.name",
        "short": "Receiving system namespace (name of destination application)",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.5.1"
          }
        ]
      },
      {
        "id": "MessageHeader.destination.endpoint",
        "path": "MessageHeader.destination.endpoint",
        "mustSupport": true
      },
      {
        "id": "MessageHeader.destination.receiver",
        "path": "MessageHeader.destination.receiver",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"
            ]
          }
        ],
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.6.1, MSH.6.2, MSH.6.3",
            "comment": "Located in US Core Organization"
          }
        ]
      },
      {
        "id": "MessageHeader.sender",
        "path": "MessageHeader.sender",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"
            ]
          }
        ],
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.4.1, MSH.4.2, MSH.4.3",
            "comment": "Located in US Core Organization"
          }
        ]
      },
      {
        "id": "MessageHeader.source",
        "path": "MessageHeader.source",
        "mustSupport": true
      },
      {
        "id": "MessageHeader.source.id",
        "path": "MessageHeader.source.id",
        "short": "Sending system OID",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.3.2"
          }
        ]
      },
      {
        "id": "MessageHeader.source.extension",
        "path": "MessageHeader.source.extension",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "url"
            }
          ],
          "rules": "open"
        },
        "mustSupport": true
      },
      {
        "id": "MessageHeader.source.extension:sourceSoftwareVendorInfo",
        "path": "MessageHeader.source.extension",
        "sliceName": "sourceSoftwareVendorInfo",
        "short": "Source software information (vendor organization, binary id, intstall date)",
        "definition": "Source software information (vendor organization, binary id, intstall date)",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/home-lab-report/StructureDefinition/Extension-at-home-in-vitro-test-source-software-info"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "MessageHeader.source.name",
        "path": "MessageHeader.source.name",
        "short": "Sending system namespace (name of app)",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "MSH.3.1"
          }
        ]
      },
      {
        "id": "MessageHeader.source.software",
        "path": "MessageHeader.source.software",
        "short": "Software product name including OS (e.g. Android, iOS)",
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "SFT.3"
          }
        ]
      },
      {
        "id": "MessageHeader.source.version",
        "path": "MessageHeader.source.version",
        "short": "Software certified version or release number",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "hl7v2home",
            "map": "SFT.2"
          }
        ]
      },
      {
        "id": "MessageHeader.focus",
        "path": "MessageHeader.focus",
        "short": "The focus of this message header is a DiagnosticReport.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/us/home-lab-report/StructureDefinition/DiagnosticReport-at-home-in-vitro-results"
            ]
          }
        ],
        "mustSupport": true
      }
    ]
  }
}
